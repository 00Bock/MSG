<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap-Test</title>
	
	<!-- D3 -->
	<script src="http://d3js.org/d3.v3.min.js"></script>
	
	<!-- App -->
    <link href="css/app.css" rel="stylesheet">
	
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
	
	<!-- Mapbox -->
	<script src='https://api.tiles.mapbox.com/mapbox.js/v1.6.1/mapbox.js'></script>
	<link href='https://api.tiles.mapbox.com/mapbox.js/v1.6.1/mapbox.css' rel='stylesheet' />
	
	<!-- DVF -->
	<script type="text/javascript" src="js/leaflet-dvf.markers.min.js"></script>
	<link href="css/dvf.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
	
	<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
	  <div class="container-fluid">
		<!-- Brand and toggle get grouped for better mobile display -->
		<div class="navbar-header">
		  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
			<span class="sr-only">Toggle navigation</span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		  </button>
		  <a class="navbar-brand" href="index_boot.html">SmartEnergyMap</a>
		</div>

		<!-- Collect the nav links, forms, and other content for toggling -->
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
		  <ul class="nav navbar-nav">
			<li class="active"><a href="index_boot.html"><span class="glyphicon glyphicon-picture"></span> Map </a></li>
			<li><a href="info.html"><span class="glyphicon glyphicon-info-sign"></span> Info </a></li>
			<li><img id="navLogo" src="img/logo2.png"></li>
		  </ul>
		</div><!-- /.navbar-collapse -->
	  </div><!-- /.container-fluid -->
	</nav>
	<!-- The Map -->
	<div id="map"></div>
	<div id='map1'></div>
	<div id='map2'></div>
	
	<div id="info2">
		<h1>Willkommen bei der <font color="#EE9A00">Smart</font><font color="#1E90FF">Energy</font><font color="#3CB371">Map</font></h1>
		</br>
		<p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor 
		invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.  At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p>
		</br>
		<img id="willkommenLogo" src="img/view.png">
		<h3><a href="index_boot.html">  - START -</a></h3>

	</div>

	<script>	
		//### Inizialisierung der Karte ###
		var map1 = L.mapbox.map('map1', 'examples.map-b70jh5xu')
			.setView([52.481707,13.356576], 17);
		var map2 = L.mapbox.map('map2', 'examples.map-cnkhv76j', { zoomControl:false })
			.setView([52.481707,13.356576], 17);
			
		map2.legendControl.addLegend(document.getElementById('legend').innerHTML);
		
		//Quellcode fÃ¼r Syncronisation stamt von Mapbox --> https://www.mapbox.com/mapbox.js/example/v1.0.0/sync-layer-movement-antipode/
		// when either map finishes moving, trigger an update on the other one.
		map1.on('moveend', follow).on('zoomend', follow);
		map2.on('moveend', follow).on('zoomend', follow);

		// quiet is a cheap and dirty way of avoiding a problem in which one map
		// syncing to another leads to the other map syncing to it, and so on
		// ad infinitum. this says that while we are calling sync, do not try to 
		// loop again and sync other maps
		var quiet = false;
		function follow(e) {
			if (quiet) return;
			quiet = true;
			if (e.target === map1) sync(map2, e);
			if (e.target === map2) sync(map1, e);
			quiet = false;
		}

		// sync simply steals the settings from the moved map (e.target)
		// and applies them to the other map.
		function sync(map, e) {
			map.setView(e.target.getCenter(), e.target.getZoom(), {
				animate: false,
				reset: true
			});
		}
		</script>
  </body>
</html>